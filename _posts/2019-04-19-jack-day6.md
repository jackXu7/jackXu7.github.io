---
layout: post
title: "jack-day6"
author: "jack"
date: 2019-04-19
---
day6，java注解<!-- more -->
>鹏哥说，注解是一眼看不透的技术

### 那么注解怎么来的？
在java代码中，有一种高耦合的配置方式，区别于XML低耦合低效率的方式，这种注解的配置方式效率很高。
在`java.lang.annotation.Annotation`接口中有一句话用来描述注解

>所有的注解都继承自这个接口

也就是说所有的注解都是继承了`Annotation`接口的接口。

而有一些注解是为了指定注解的生命周期和作用目标而产生的，这样的注解即为元注解，例如@Target,@Retention,@Documented,@Inherited都是比较常见的元注解。

我们也可以自定义自己需要的注解

```
public @interface MyAnnotation{
  String value();
}
```
如果注解接口中没有任何内容，那么该注解就是一个标记注解。比较常见的标记注解就是`@Deprecated`

### 注解怎么起作用的？
注解起作用的方式一般是三个：

1. 为编译器提供辅助信息，例如@Override、@SuppressWarning、@Deprecated等。
2. 编译时动态处理，这类注解在编译时，根据注解标识，动态生成一些类，在运行时期是没有这些注解的，他们在类真正被加载的时候丢弃。
3. 运行时动态处理，这类注解是在运行时拿到类的Class对象，然后遍历其方法、变量，判断注解内容，进行操作和处理。

运行时的注解处理主要依靠反射，是比较常见的处理方式。
而编译时的注解处理，需要注解处理器进行操作。它是javac中用来扫描和处理注解的工具。也可以注册自己的注解处理器。
>一个注解的注解处理器，以Java代码（或者编译过的字节码）作为输入，生成文件（通常是.java文件）作为输出。

也就是说注解处理器可以根据需求自己生成java代码,但是不能修改已经存在的java类.
